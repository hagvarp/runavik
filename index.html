<!doctype html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta http-equiv="refresh" content="3600">

    <title>Vit taka samfelagspulsin | Hagstova Føroya</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/custom.css">

    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/JSON-stat/json-stat.js"></script>
    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/jquery-dist/dist/jquery.min.js"></script>
    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/highstock-release/highstock.js"></script>
    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/highstock-release/modules/exporting.js"></script>

    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/highmaps-release/modules/map.js"></script>   
    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/highmaps-release/modules/data.js"></script>
    <script src="https://hagvarp.hagstova.fo/eysturkommuna/lib/js/highmaps-release/modules/exporting.js"></script>


    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="https://hagvarp.hagstova.fo/eysturkommuna/lib/css/zenburn.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!-- Printing and PDF exports -->
    <script>
            var link = document.createElement("link");
            link.rel = "stylesheet";
            link.type = "text/css";
            link.href = window.location.search.match(/print-pdf/gi) ? "css/print/pdf.css" : "css/print/paper.css";
            document.getElementsByTagName("head")[0].appendChild(link);
        </script>


	<!-- Analytics -->
	<script type="text/javascript">
	  var _paq = _paq || [];
	  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="https://analytics.hagstova.fo/";
	    _paq.push(['setTrackerUrl', u+'piwik.php']);
	    _paq.push(['setSiteId', '1']);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
	<!-- End Analytics Code -->


</head>

<body>


    <script type="text/javascript">




      Highcharts.setOptions({
      lang: {
        decimalPoint: ",",
        thousandsSep: " ",
        shortWeekdays: ["Mán", "Týs", "Mik", "Hós", "Frí", "Ley", "Sun"],
        weekdays: ["Mánadagur", "Týsdagur", "Mikudagur", "Hósdagur", "Fríggjadagur", "Leygardagur", "Sunnudagur"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Des"],
        months: ["Januar", "Februar", "Mars", "Apríl", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Desember"],
        downloadJPEG: "Goym JPEG mynd",
        downloadPDF: "Goym PDF skjal",
        downloadPNG: "Goym PNG mynd",
        downloadSVG: "Goym SVG vektor mynd",
        loading: "lesi inn...",
        printChart: "Prenta",
        rangeSelectorFrom: "Frá",
        rangeSelectorTo: "Til",
        resetZoom: "Nullstilla zoom",
        resetZoomTitle: "Nullstilla zoom level 1:1"
      }
    });





//---------------------------------------------------------
//                                CHART 1
//---------------------------------------------------------
            var chart1;
            var chart1Data;
            var chart1_last_month;
            var chart1Timeout0;
            var chart1Timeout1;

            function startAnimatingChart1() {
                clearTimeout(chart1Timeout0);
                clearTimeout(chart1Timeout1);
                //1. Start by animating background

                //2. Animate in chart for this year
                chart1Timeout0 = setTimeout(function() {


                    drawChart1();
                }, 100);

                //3. Zoom to full
                chart1Timeout1 = setTimeout(function() {
                    chart1.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 1 specific functions
            function drawChart1() {
                var jsonStatData = chart1Data;
                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;
               
                var fLen = year.length;
                m = ds.Dimension("month").id;

                //Format Data

                var folkataldata = [];

                for (var i = 0; i < fLen; i++) {
                    folkatal = ds.Data({ "changes": "PRIMO", "village/city": "4207", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });

                    for (var j = 0; j < folkatal.length; j++) {
                        mon = m[j].replace("M", "-");
                        folkataldata.push([Date.parse(year[i] + mon), folkatal[j]]);
                        nextMonth = year[i] + mon

                    }
                }


                chart1_last_month = folkataldata[folkataldata.length - 1];
                chart1_last_month = chart1_last_month[0];


                // set up the updating of the chart each second
                len = folkataldata.length;

                //set marker on last point
                folkataldata[len - 1].push({
                    marker: {
                        enabled: true
                    }
                });


                //Build Series
                var createdSeries = [{
                    name: "Fólkatal",
                    data: folkataldata,
                    color: "#fff",
                    tooltip: {
                        valueDecimals: 0
                    }
                }
                ];

                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }


                //Build Chart
                $("#chart1").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "line",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        marginRight: 20,
                        events: {
                            load: function () {
                                chart1 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        tickInterval: 2629746000,
                        min: chart1_last_month - 65743595833,
                        max: chart1_last_month,
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            },
                        }
                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value, 0);
                            },
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                    },
                    legend: {
                        enabled: false
                    },


                    tooltip: {
						enabled: false
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false,
                            },
                            dataLabels: {
                                enabled: true,
                                color: "#FFF",
                                useHTML: true,
                                crop: false,
                                overflow: false,
                                formatter: function() {
                                  var last  = this.series.data[this.series.data.length - 1];
                                  if (this.point.category === last.category  && this.point.y === last.y) {

                                    return ('<div class="MyDataLabelTooltip"><span class="datetext">' +  Highcharts.dateFormat("%e. %b &apos;%y",this.point.x + 43200000) + "</span><br />" +  Highcharts.numberFormat(this.point.y,0)  + "</div>");
                                  }
                                  else {return};
                                }
                            }
                        },
                        series: {
                            showInNavigator: true,
                        }
                    },
                    series: createdSeries
                });
            }

            var loadDataAndBuildChart1 = function() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/IB/IB01/fo_vital_md.px", {
                    "query": [
                        {
                            "code": "village/city",
						      "selection": {
						        "filter": "agg:municipality-fo-2017.agg",
						        "values": [
						          "4207"
						        ]
						      }
                        },
                        {
                            "code": "changes",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "PRIMO", "ULTIMO"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }
                }, function(rawData) {
                    chart1Data = rawData;
                    drawChart1();
                } );
            }






//---------------------------------------------------------
//                                CHART 2
//---------------------------------------------------------
            var chart2;
            var chart2Data;
            var chart2CreatedSeries;
            var chart2_last_month;
            var chart2Timeout0;
            var chart2Timeout1;
            var chart2Timeout2;
            var chart2Timeout3;

            function startAnimatingChart2() {
                clearTimeout(chart2Timeout0);
                clearTimeout(chart2Timeout1);
                clearTimeout(chart2Timeout2);
                clearTimeout(chart2Timeout3);

                drawChart2();

                chart2Timeout0 = setTimeout(function() {
                    chart2.addSeries(chart2CreatedSeries[0]);
                }, 0);
                chart2Timeout1 = setTimeout(function() {
                    chart2.addSeries(chart2CreatedSeries[1]);
                }, 2000);
                chart2Timeout2 = setTimeout(function() {
                    chart2.addSeries(chart2CreatedSeries[2]);
                }, 4000);

                chart2Timeout3 = setTimeout(function () {



					var d = new Date();
					var n = d.getFullYear();

                	chart2.series[2].update({
				        zoneAxis: 'x',
				        zones: [{
				            value: Date.parse(n-1),
				            color: '#ffffff'
				        },{
				            color: 'rgba(255,255,255,0)'
				        }]                		                		

                	});             	

					chart2.update({
                    	xAxis: {
	                        min: null,
	                        max: Date.parse(n)-86400000,
                        }
                    });


                }, 25000);

            }

            //Chart 2 specific functions
            function drawChart2() {

                var jsonStatData = chart2Data;
                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                m = ds.Dimension("month").id;

                var fLen = m.length - 1;



                //Format Data
                var tilflytingdata = [];
                var fraflytingdata = [];
                var nettoflytingdata = [];

                var yaxistilflyting = [];
                var yaxisfraflyting = [];

                for (var i = 0; i < fLen; i++) {

                    tilflyting = ds.Data({ "changes": "IMMIUT", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);

                    imidom = ds.Data({ "changes": "IMMIDOM", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);

					emidom = ds.Data({ "changes": "EMIDOM", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);
                    fraflyting = ds.Data({ "changes": "EMIUT", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);


                        mon = m[i].replace("M", "-");


                        yaxistilflyting.push[tilflyting];
                        yaxisfraflyting.push[-fraflyting];

                        tilflytingdata.push([Date.parse(mon), tilflyting + imidom]);
                        fraflytingdata.push([Date.parse(mon), -fraflyting-emidom]);
                        nettoflytingdata.push([Date.parse(mon), (imidom + tilflyting) - (fraflyting+emidom)]);

                }




                var chart2_last_month = tilflytingdata[tilflytingdata.length - 1];
                chart2_last_month = chart2_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Tilflyting",
                    data: tilflytingdata,
                    color: "#7dbd39",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Fráflyting",
                    data: fraflytingdata,
                    color: "#cc5200",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Nettoflyting",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart2CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });
                        return s;
                    }

                //Build Chart
                $("#chart2").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart2 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        min: chart2_last_month - 65743595833,
                        max: chart2_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }
                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
						enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        }
                    },
                    series: []
                });
            }

            function loadDataAndBuildChart2() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/IB/IB01/fo_vit_md_t.px", {
                    "query": [
                        {
                            "code": "village/city",
						      "selection": {
						        "filter": "agg:municipality-fo-2017.agg",
						        "values": [
						          "4207"
						        ]
						      }
                        },
                        {
                            "code": "changes",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "EMIUT", "IMMIUT", "EMIDOM", "IMMIDOM"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }
                },function(data) {
                    chart2Data = data;
                    drawChart2();
                    startAnimatingChart2();
                } );
            }





//---------------------------------------------------------
//                                CHART 3
//---------------------------------------------------------
            var chart3;
            var chart3Data;
            var chart3CreatedSeries;
            var chart3_last_month;
            var chart3Timeout0;
            var chart3Timeout1;
            var chart3Timeout2;
            var chart3Timeout3;

            function startAnimatingChart3() {
                clearTimeout(chart3Timeout0);
                clearTimeout(chart3Timeout1);
                clearTimeout(chart3Timeout2);
                clearTimeout(chart3Timeout3);

                drawChart3();

                chart3Timeout0 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[0]);
                }, 0);
                chart3Timeout1 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[1]);
                }, 2000);
                chart3Timeout2 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[2]);
                }, 4000);

                chart3Timeout3 =setTimeout(function () {
					
					var d = new Date();
					var n = d.getFullYear();

                	chart3.series[2].update({
				        zoneAxis: 'x',
				        zones: [{
				            value: Date.parse(n-1),
				            color: 'rgba(255,255,255,1)'
				        },{
				            color: 'rgba(255,255,255,0)'
				        }]                		                		

                	}); 

               	


					chart3.update({
                    	xAxis: {
	                        min: null,
	                        max: Date.parse(n)-86400000,
                        }
                    });
                }, 25000);
            }

            //Chart 3 specific functions
            function drawChart3() {

                var jsonStatData = chart3Data;
                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                m = ds.Dimension("month").id;
                var fLen = m.length -1;


                //Format Data



                var tilflytingdata = [];
                var fraflytingdata = [];
                var nettoflytingdata = [];

                var yaxistilflyting = [];
                var yaxisfraflyting = [];

                for (var i = 0; i < fLen; i++) {

                    tilflyting = ds.Data({ "changes": "BORNE", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);



                    fraflyting = ds.Data({ "changes": "DEAD", "village/city": "4207", "month": ds.Dimension("month").id[i] }, false);

                    
                        mon = m[i].replace("M", "-");

                        yaxistilflyting.push[tilflyting];
                        yaxisfraflyting.push[-fraflyting];

                        tilflytingdata.push([Date.parse(mon), tilflyting]);
                        fraflytingdata.push([Date.parse(mon), -fraflyting]);
                        nettoflytingdata.push([Date.parse(mon), tilflyting - fraflyting]);

                }

                var chart3_last_month = tilflytingdata[tilflytingdata.length - 1];
                chart3_last_month = chart3_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Fødd",
                    data: tilflytingdata,
                    color: "#7dbd39",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Deyð",
                    data: fraflytingdata,
                    color: "#cc5200",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Burðaravlop",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart3CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart3").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart3 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        min: chart3_last_month - 65743595833,
                        max: chart3_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }
                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value), 0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
						enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        }


                    },
                    series: []
                });
            }

            function loadDataAndBuildChart3() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/IB/IB01/fo_vit_md_t.px", {
                    "query": [
                        {
                            "code": "village/city",
						      "selection": {
						        "filter": "agg:municipality-fo-2017.agg",
						        "values": [
						          "4207"
						        ]
						      }
                        },
                        {
                            "code": "changes",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "BORNE", "DEAD"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }
                },function(data) {
                    chart3Data = data;
                    drawChart3();
                    startAnimatingChart3();
                } );
            }




//---------------------------------------------------------
//                       CHART 4
//---------------------------------------------------------
            var chart4;
            var chart4Data;
            var chart4_last_month;
            var chart4Timeout0;

            function startAnimatingChart4() {
                clearTimeout(chart4Timeout0);

                drawChart4a();

                chart4Timeout0 = setTimeout(function () {
                    chart4.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 4 specific functions
            function drawChart4a() {
                var jsonStatData = chart4aData;
                var jsonStatAFData= chart4a1Data;

                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                ds1 = JSONstat(jsonStatAFData).Dataset(0);

                t = ds1.Dimension("year").length - 1;
                year = ds1.Dimension("year").id;
                var fLen = year.length;
                m = ds.Dimension("month").id;
                var mLen = m.length;

                //Format Data
                var unemploymentdata = [];


                var unemployment = ds.Data({ "month": ds.Dimension("month") }, false).filter(function(n) { return n; });
                var arbeidsfjold = ds1.Data({"year": "2005" }, false);


                var arbeidsfjold = ds1.Data({ "year": ds1.Dimension("year").id[i] }, false).filter(function(n) { return n; });



                for (var j = 120; j < mLen; j++) {
                    mon = m[j].replace("M", "-");

                    yeararb = mon.substring(0, 4);
                    arbeidsfjold = ds1.Data({"year": yeararb }, false);



                    unemploymentdata.push([Date.parse(mon), unemployment[j]/arbeidsfjold*100]);
                    
                    
                    console.log(unemployment);
                }

                for (var i = 0; i < fLen; i++) {
                    var arbeiðsfjold = ds1.Data({ "year": ds1.Dimension("year").id[i] }, false);
                	var unemployment = ds.Data({ "month": ds.Dimension("month").id[i] }, false);



                }

                var chart4_last_month = unemploymentdata[unemploymentdata.length - 1];
                chart4_last_month = chart4_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Arbeiðsloysi",
                    data: unemploymentdata,
                    color: "#fff",
                    tooltip: {
                        valueDecimals: 1
                    }
                }
                ];

                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart4").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type:"line",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart4 = this;
                            }
                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },
                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",
                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        tickInterval: 2629746000,
                        type: "datetime",
                        lineColor: "#fff",
                        tickColor: "#fff",
                        min: chart4_last_month - 65743595833,
                        max: chart4_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }
                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        tickInterval: 0.5,
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value, 1) + " %";
                            },
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false
                            },
                            dataLabels: {
                                enabled: true,
                                color: "#FFF",
                                useHTML: true,
                                crop: false,
                                overflow: false,
                                formatter: function() {
                                  var last  = this.series.data[this.series.data.length - 1];
                                  if (this.point.category === last.category  && this.point.y === last.y) {
                                    return ('<div class="MyDataLabelTooltip"><span class="datetext">' +  Highcharts.dateFormat("%b &apos;%y",this.point.x) + "</span><br />" +  Highcharts.numberFormat(this.point.y,1) + "%" + "</div>");
                                  }
                                  else {return};
                                }
                            }
                        },
                        series: {
                            showInNavigator: true
                        }
                    },
                    series: createdSeries
                });
            }




            function loadDataAndBuildChart4a() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM02/al_aldkysy_t.px", {
					   "query": [
					    {
					      "code": "measure",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "FUL"
					        ]
					      }
					    },
					    {
					      "code": "region",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "EY",
					        ]
					      }
					    }				    
					  ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart4aData = data;
                    loadDataAndBuildChart4a1();
                } );
            }


            function loadDataAndBuildChart4a1() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM01/afk_afavb66.px", {
                      "query": [

					    {
					      "code": "region",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "EY",
					        ]
					      }
					    },
					    {
					      "code": "unit",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "TAL"
					        ]
					      }
					    },
					    {
					      "code": "measure",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "AF"
					        ]
					      }
					    }
					  ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart4a1Data = data;
                    drawChart4a();
                } );
            }






//---------------------------------------------------------
//                                CHART 4b
//---------------------------------------------------------

            var chart4b;
            var chart4bData;
            var chart4bCreatedSeries;
            var chart4b_last_month;
            var chart4bTimeout0;
            var chart4bTimeout1;
            var chart4bTimeout2;
            var chart4bTimeout3;



            //Chart 4b specific functions
            function drawChart4b() {

                var jsonStatData = chart4bData;
                var jsonStatUtflutningurData= chart4b1Data;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                ds1 = JSONstat(jsonStatUtflutningurData).Dataset(0);



              var Nordstreymoyar = (ds.Data({"measure": "FUL", "region":"NS"}, false))/(ds1.Data({"measure": "AF", "region":"NS"}, false))*100;
              var Sudurstreymoyar = (ds.Data({"measure": "FUL", "region":"SS"}, false))/ds1.Data({"measure": "AF", "region":"SS"}, false)*100;
              var Suduroyar = (ds.Data({"measure": "FUL", "region":"SU"}, false))/ds1.Data({"measure": "AF", "region":"SU"}, false)*100;
              var Sandoyar = (ds.Data({"measure": "FUL", "region":"SA"}, false))/ds1.Data({"measure": "AF", "region":"SA"}, false)*100;
              var Vaga = (ds.Data({"measure": "FUL", "region":"VA"}, false))/ds1.Data({"measure": "AF", "region":"VA"}, false)*100;
              var Eysturoyar = (ds.Data({"measure": "FUL", "region":"EY"}, false))/ds1.Data({"measure": "AF", "region":"EY"}, false)*100;
              var Nordoya = (ds.Data({"measure": "FUL", "region":"NO"}, false))/ds1.Data({"measure": "AF", "region":"NO"}, false)*100;

          var data = [
                  ['Nordstreymoyar', Nordstreymoyar],
                  ['Sudurstreymoyar', Sudurstreymoyar],
                  ['Suduroyar', Suduroyar],
                  ['Sandoyar', Sandoyar],
                  ['Vaga', Vaga],
                  ['Eysturoyar', Eysturoyar],
                  ['Nordoya', Nordoya] 
              ];



              $.getJSON('https://hagvarp.hagstova.fo/eysturkommuna/utm.regions.geo.json', function (geojson) {

                  // Initiate the chart
                  $('#chart4b').highcharts('Map', {
                    title: {
                          text: ''
                      },
                    credits: {
                        enabled: false
                      },
                    chart: {
                        backgroundColor: "rgba(255, 255, 255, 0)",
                    },


                    exporting: {
                        enabled: false
                    },                              
                      legend: {
                        enabled: false,
                          title: {
                              text: "Arbeiðsfjøldin (%) í mun til fólkatalið"
                          }
                        },
                      colorAxis: {


                      },
                      tooltip: {
                              valueDecimals: 1,
                              valueSuffix: '%',

                      },
                    plotOptions: {
                        map: {
                            dataLabels: {
                                enabled: true,
                                format: '{point.value:.1f}%',
                                className: 'MyDataLabelTooltip',
                                style: { fontSize: '1.6em !important' }                                
                            }
                        }
                    },                                
                      series: [{
                          data: data,
                          mapData: geojson,
                          joinBy: ['label', 0],
                          keys: ['label', 'value'],
                          name: 'Sýsla',
                          states: {
                              hover: {
                                  color: '#BADA55'
                              }
                          }
                      }]
                     
                  });
              });


            }

            function loadDataAndBuildChart4b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM02/al_aldkysy_t.px", {
					   "query": [
					    {
					      "code": "measure",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "FUL"
					        ]
					      }
					    },
					    {
					      "code": "region",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "NO",
					          "EY",
					          "NS",
					          "SS",
					          "VA",
					          "SA",
					          "SU"
					        ]
					      }
					    },
					    {
					      "code": "month",
					      "selection": {
						  "filter": "top",
                    	  "values": [
                      	  "1"
					        ]
					      }
					    }
					  ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart4bData = data;
                    loadDataAndBuildChart4b1();
                } );
            }


            function loadDataAndBuildChart4b1() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM01/afk_afavb66.px", {
                      "query": [

					    {
					      "code": "region",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "NO",
					          "EY",
					          "NS",
					          "SS",
					          "VA",
					          "SA",
					          "SU"
					        ]
					      }
					    },                      
					    {
					      "code": "year",
					      "selection": {
					        "filter": "top",
					        "values": [
					          "1"
					        ]
					      }
					    },
					    {
					      "code": "unit",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "TAL"
					        ]
					      }
					    },
					    {
					      "code": "measure",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "AF"
					        ]
					      }
					    }
					  ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart4b1Data = data;
                    drawChart4b();
                } );
            }








//---------------------------------------------------------
//                                CHART 5
//---------------------------------------------------------
            var chart5;
            var chart5Data;
            var chart5CreatedSeries;
            var chart5_last_month;
            var chart5Timeout0;

            var chart5Timeout3;

            function startAnimatingChart5() {
                clearTimeout(chart5Timeout0);

                clearTimeout(chart5Timeout3);

                drawChart5();

                chart5Timeout0 = setTimeout(function() {
                    chart5.addSeries(chart5CreatedSeries[0]);
                }, 0);

                chart5Timeout3 =setTimeout(function () {
                    chart5.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 5 specific functions
            function drawChart5() {

                var jsonStatData = chart5Data;
                var jsonStatUtflutningurData= chart5Data;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                var fLen = year.length;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



				

                for (var i = 0; i < fLen; i++) {





                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);




                    utflutningurdata.push([Date.parse(year[i]), utflutningur]);




                }




                //Build Series
                var createdSeries = [{
                    name: "Løntakarar",
                    data: utflutningurdata,
                    color: "#7dbd39",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }];
                chart5CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart5").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart5 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart5() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM03/lont_vgar.px", {
                    "query": [
				    {
				      "code": "district",
				      "selection": {
				        "filter": "item",
				        "values": [
				          "EY"
				        ]
				      }
				    }
                    ],
                    "response": {
                        "format": "json-stat"

                    }
                },function(data) {
                    chart5Data = data;
                    drawChart5();
                    startAnimatingChart5();
                } );
            }








//---------------------------------------------------------
//                                CHART 6
//---------------------------------------------------------
            var chart6;
            var chart6Data;
            var chart6CreatedSeries;
            var chart6_last_month;
            var chart6Timeout0;
            var chart6Timeout1;
            var chart6Timeout3;

            function startAnimatingChart6() {
                clearTimeout(chart6Timeout0);
                clearTimeout(chart6Timeout1);
                clearTimeout(chart6Timeout3);

                drawChart6();

                chart6Timeout0 = setTimeout(function() {
                    chart6.addSeries(chart6CreatedSeries[0]);
                }, 100);
                chart6Timeout1 = setTimeout(function() {
                    chart6.addSeries(chart6CreatedSeries[1]);
                }, 2000);

                chart6Timeout3 =setTimeout(function () {
                    chart6.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 6 specific functions
            function drawChart6() {

                var jsonStatData = chart6Data;
                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;
                var fLen = year.length;
                m = ds.Dimension("month").id;


            //Format Data

                var lontakarardata = [];
                var trendurdata = [];

                var yaxislontakarar = [];
                var yaxisfraflyting = [];

                for (var i = 0; i < fLen; i++) {
                    lontakarar = ds.Data({ "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });

                    for (var j = 0; j < lontakarar.length; j++) {
                         var month = m[j].substring(1);

                        yaxislontakarar.push[lontakarar[j]];
                        lontakarardata.push([Date.parse(year[i] + "-" + month), (lontakarar[j]/1000)]);

                    }
                }

                var chart6_last_month = lontakarardata[lontakarardata.length - 1];
                chart6_last_month = chart6_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Lønargjaldingar",
                    data: lontakarardata,
                    color: "#7dbd39",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }];
                chart6CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart6").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart6 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        min: chart6_last_month - 65743595833,
                        max: chart6_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                        showLastLabel: true

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value, 0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                        },
                        column: {
                            dataLabels: {
                                enabled: true,
                                color: "#FFF",
                                useHTML: true,
                                crop: false,
                                overflow: false,
                                formatter: function() {
                                  var last  = this.series.data[this.series.data.length - 1];
                                  if (this.point.category === last.category  && this.point.y === last.y) {
                                    return ('<div class="MyDataLabelTooltip"><span class="datetext">' + Highcharts.dateFormat("%b &apos;%y",this.point.x) + "</span><br />" + Highcharts.numberFormat(this.point.y,0) + " mió.</div>");
                                  }
                                  else {return};
                                }
                            }
                        },
                    },
                    series: []
                });
            }

            function loadDataAndBuildChart6() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/AM/AM04/lon_symd.px", {
                    "query": [

				    {
				      "code": "region",
				      "selection": {
				        "filter": "item",
				        "values": [
				          "420000"
				        ]
				      }
				    },


				    {
				      "code": "month",
				      "selection": {
				        "filter": "item",
				        "values": [
				          "M01",
				          "M02",
				          "M03",
				          "M04",
				          "M05",
				          "M06",
				          "M07",
				          "M08",
				          "M09",
				          "M10",
				          "M11",
				          "M12"
				        ]
				      }
				    }				    

                    ],
                    "response": {
                        "format": "json-stat"

                    }
                },function(data) {
                    chart6Data = data;
                    drawChart6();
                    startAnimatingChart6();
                } );
            }



//---------------------------------------------------------
//                                CHART 7
//---------------------------------------------------------


            var chart7;
            var chart7Data;
            var chart7CreatedSeries;
            var chart7_last_month;
            var chart7Timeout0;

            var chart7Timeout3;




            function startAnimatingChart7() {
                clearTimeout(chart7Timeout0);

                clearTimeout(chart7Timeout3);

                drawChart7();

                chart7Timeout0 = setTimeout(function() {
                    chart7.addSeries(chart7CreatedSeries[0]);
                }, 0);


                chart7Timeout3 =setTimeout(function () {
                    chart7.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 7 specific functions
            function drawChart7() {

                var jsonStatData = chart7Data;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);

                dsutflutningur = JSONstat(jsonStatData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data


                var utflutningurdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];


                for (var i = 0; i < fLen; i++) {
                    utflutningur = dsutflutningur.Data({ "school": "9","year": dsutflutningur.Dimension("year").id[i] }, false) + dsutflutningur.Data({ "school": "11","year": dsutflutningur.Dimension("year").id[i] }, false) + dsutflutningur.Data({ "school": "12","year": dsutflutningur.Dimension("year").id[i] }, false) + dsutflutningur.Data({ "school": "38","year": dsutflutningur.Dimension("year").id[i] }, false) + dsutflutningur.Data({ "school": "40","year": dsutflutningur.Dimension("year").id[i] }, false) + dsutflutningur.Data({ "school": "45","year": dsutflutningur.Dimension("year").id[i] }, false);


					if(utflutningur != null){
						utflutningurdata.push([year[i], utflutningur]);
					} 

                    

                }



                //Build Series
                var createdSeries = [{
                    name: "Næmingar",
                    data: utflutningurdata,
                    color: "#7dbd39",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }];
                chart7CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart7").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart7 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "category",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                        min: null,
                        max:null,                        

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart7() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UV/UV02/fs_ntalsk.px", {
                    "query": [
					    {
					      "code": "school",
					      "selection": {
					        "filter": "item",
                        "values": [
                                "9",
                                "11",
                                "12",
                                "38",
                                "40",
                                "45"
                                ]
					      }
					    }
					  ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart7Data = data;
                    drawChart7();
					startAnimatingChart7();           			
                } );
            }






            //HELPER FUNCTION
            function POST(url, query, main) {
                $.ajax({
                    type: "POST",
                    url: url,
                    data: JSON.stringify(query),
                    success: function(data) {
                        main(data);
                    }
                });
            }

            //START LOADING AND BUILDING CHARTS
            $(function () {
                loadDataAndBuildChart1();
                loadDataAndBuildChart2();
                loadDataAndBuildChart3();
                loadDataAndBuildChart4a();
                loadDataAndBuildChart4b();
                loadDataAndBuildChart5();
                loadDataAndBuildChart6();
                loadDataAndBuildChart7();

            });
</script>



<div class="reveal">
    <div class="slides">

        <section data-background="assets/folkatal.jpg" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Fólkatalið</h1>
        </section>
        <section data-state="folkatal" data-background="assets/folkatal.jpg">
            <div class="infobox blue right">    
                <div class="background"></div>
                    <h2>Fólkatal<h2/>
                    <p>Fólktalið fyrst í hvørjum mánaði</p>
                    <div>
                        <div id="chart1"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/til_fra.jpg" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Til- og fráflyting</h1>
        </section>
        <section data-state="tilfraflyting" data-background="assets/til_fra.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Til- og fráflyting
                    <h2/>
                    <div>
                        <div id="chart2"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/burdaravlop.jpg" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Burðaravlop</h1>
        </section>
        <section data-state="burdaravlop" data-background="assets/burdaravlop.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Burðaravlop
                    <h2/>
                    <div>
                        <div id="chart3"></div>
                    </div>
            </div>
        </section>


        <section data-background="assets/arbeidsloysi.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Arbeiðsloysi</h1>
        </section>
        <section data-state="arbeidsloysi" data-background="assets/arbeidsloysi.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Arbeiðsloysi, Eysturoy<h2/>
                <p>16-66 ár</p>
                    <div>
                        <div id="chart4"></div>
                    </div>
            </div>
        </section>
		<section data-state="arbeidsloysi" data-background="assets/arbeidsloysi.jpg" data-autoslide="20000">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Arbeiðsloysi<h2/>
                <p>Arbeiðsloysi eftir økjum</p>
                    <div>
                        <div id="chart4b"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/lonargjaldingar.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Lønargjaldingar</h1>
        </section>
        <section data-state="lonargjaldingar" data-background="assets/lonargjaldingar.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Lønargjaldingar, Eysturoy<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart6"></div>
                    </div>
            </div>
        </section>


        <section data-background="assets/lontakarar.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Løntakarar</h1>
        </section>
        <section data-state="lontakarar" data-background="assets/lontakarar.jpg" data-autoslide="15000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Løntakarar, Eysturoy <h2/>
                <p>16-74 ár</p>
                    <div>
                        <div id="chart5"></div>
                    </div>
            </div>
        </section>



      <section data-background="assets/naemingar.jpg" data-autoslide="4000">
            <h1><img src="assets/logo.png" alt="Hagstova Føroya" class="logo" />Næmingar</h1>
        </section>
        <section data-state="innutflutningur" data-background="assets/naemingar.jpg" data-autoslide="15000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Næmingar<h2/>
                <p>Fólkaskúli</p>
                    <div>
                        <div id="chart7"></div>
                    </div>
            </div>
        </section>

<!--  

        <section data-background="assets/fiskavoruutflutningur.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Fiskavørur</h1>
        </section>
        <section data-state="fiskavoruutflutningur" data-background="assets/fiskavoruutflutningur.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Útflutningur av fiskavørum<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart8"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/avreidingar.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Avreiðingar</h1>
        </section>
        <section data-state="avreidingar" data-background="assets/avreidingar.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Avreiðingar av botnfiski<h2/>
                <p>í tonsum</p>
                    <div>
                        <div id="chart13"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/gistingar.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Gistingar</h1>
        </section>
        <section data-state="gistingar" data-background="assets/gistingar.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Gistingar<h2/>
                <p>Gistinætur</p>
                    <div>
                        <div id="chart9"></div>
                    </div>
            </div>
        </section>


        <section data-background="assets/pristal.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Brúkaraprístalið</h1>
        </section>
        <section data-state="pristal" data-background="assets/pristal.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Brúkaraprístalið<h2/>
                <p></p>
                    <div>
                        <div id="chart10"></div>
                    </div>
            </div>
        </section>


        <section data-background="assets/fatakravadi.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Fátækraváði</h1>
        </section>
        <section data-background="assets/fatakravadi.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Fátækraváði
                    <h2/>
                    <div>
                        <div id="chart10"></div>
                    </div>
            </div>
        </section>
        <section data-background="assets/arbeidsfjold.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Arbeiðsfjøld</h1>
        </section>
        <section data-background="assets/arbeidsfjold.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Arbeiðsfjøld
                    <h2/>
                    <div>

                    </div>
            </div>
        </section>-->

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,
                viewDistance: 2,
                transition: 'slide',
                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: "plugin/notes/notes.js", async: true },
                    { src: "plugin/highlight/highlight.js", async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
                ]
            });


            Reveal.addEventListener("folkatal", function () {
                startAnimatingChart1();
            }, false);

            Reveal.addEventListener("tilfraflyting", function () {
                startAnimatingChart2();
            }, false);


            Reveal.addEventListener("burdaravlop", function () {
                startAnimatingChart3();
            }, false);

            Reveal.addEventListener("arbeidsloysi", function () {
                startAnimatingChart4();
            }, false);


            Reveal.addEventListener("lontakarar", function () {
                startAnimatingChart5();
            }, false);

            Reveal.addEventListener("lonargjaldingar", function () {
                startAnimatingChart6();
            }, false);

            Reveal.addEventListener("innutflutningur", function () {
                startAnimatingChart7();
            }, false);


            Reveal.addEventListener("fragmentshown", function (event) {
                // Fragmentlistener

            });


            // Slide every 30 seconds
            Reveal.configure({
                autoSlide: 50000,
                loop: true
            });





        </script>




</body>

</html>
